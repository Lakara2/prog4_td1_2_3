<!DOCTYPE html>
<html lang="en"
	  xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Edit Employee</title>
	<link rel="stylesheet" href="../style/bootstrap.css">
</head>

<body class="bg-dark">
<div class="container mt-5">
	<div class="row justify-content-center">
		<div class="col-4 mb-3">
			<div class="card">
				<div class="card-body">
			<div class="card-header">
				<h4>Edit Employee</h4>
			</div>
			<label for="profilePhoto" class="form-label">Profile Photo</label>
			<input type="file" class="form-control" id="profilePhoto" name="profilePhoto" accept="image/*"
				   onchange="previewImage(event)">
			<img id="imagePreview" class="img-thumbnail mt-2" alt="Profile Photo">
				</div>
			</div>
		</div>
		<div class="col-4">
			<div class="card">
				<div class="card-body">
			<div class="mb-3">
				<label for="confirmEmail" class="form-label">Confirm Email</label>
				<input type="email" class="form-control" id="confirmEmail" required>
			</div>
			<div class="mb-3">
				<label for="cinNumero" class="form-label">CIN Number</label>
				<input type="text" class="form-control" id="cinNumero" name="cinNumero"
					   th:value="${employee.cinNumero}" required>
			</div>
			<div class="mb-3">
				<label for="cinDateDelivrance" class="form-label">CIN Delivery Date</label>
				<input type="date" class="form-control" id="cinDateDelivrance"
					   name="cinDateDelivrance" th:value="${employee.cinDateDelivrance}" required>
			</div>
			<div class="mb-3">
				<label for="cinLieuDelivrance" class="form-label">CIN Delivery Place</label>
				<input type="text" class="form-control" id="cinLieuDelivrance"
					   name="cinLieuDelivrance" th:value="${employee.cinLieuDelivrance}" required>
			</div>
			<div class="mb-3">
				<label for="role" class="form-label">Role</label>
				<input type="text" class="form-control" id="role" name="role"
					   th:value="${employee.role}" required>
			</div>
			<div class="mb-3">
				<label for="nombreEnfants" class="form-label">Number of Children</label>
				<input type="number" class="form-control" id="nombreEnfants" name="nombreEnfants"
					   th:value="${employee.nombreEnfants}" required>
			</div>
			<div class="mb-3">
				<label for="dateEmbauche" class="form-label">Hiring Date</label>
				<input type="date" class="form-control" id="dateEmbauche"
					   name="dateEmbauche" th:value="${employee.dateEmbauche}" required>
			</div>
			<div class="mb-3">
				<label for="dateDepart" class="form-label">Departure Date</label>
				<input type="date" class="form-control" id="dateDepart"
					   name="dateDepart" th:value="${employee.dateDepart}" required>
			</div>
			<div class="mb-3">
				<label for="categorieSocioProfessionnelle" class="form-label">Socio-Professional com.employee.manage.utils.Category</label>
				<input type="text" class="form-control" id="categorieSocioProfessionnelle"
					   name="categorieSocioProfessionnelle" th:value="${employee.categorieSocioProfessionnelle}" required>
			</div>
			<div class="mb-3">
				<label for="numeroCnaps" class="form-label">CNAPS Number</label>
				<input type="text" class="form-control" id="numeroCnaps" name="numeroCnaps"
					   th:value="${employee.numeroCnaps}" required>
			</div>
			</div>
			</div>
		</div>
		<div class="col-4">
			<div class="card">
				<div class="card-body">
					<form action="/saved" method="post" enctype="multipart/form-data">
						<input type="hidden" name="id" th:value="${employee.id}">
						<div class="mb-3">
							<label for="firstname" class="form-label">Firstname</label>
							<input type="text" class="form-control" id="firstname" name="firstname"
								   th:value="${employee.firstname}" required>
						</div>
						<div class="mb-3">
							<label for="lastname" class="form-label">Lastname</label>
							<input type="text" class="form-control" id="lastname" name="lastname"
								   th:value="${employee.lastname}" required>
						</div>
						<div class="mb-3">
							<label for="birthdate" class="form-label">Birthdate</label>
							<input type="date" class="form-control" id="birthdate" name="birthdate"
								   th:value="${employee.birthdate}" required>
						</div>
						<div class="mb-3">
							<label for="address" class="form-label">Address</label>
							<input type="text" class="form-control" id="address" name="address"
								   th:value="${employee.address}" required>
						</div>
						<div class="mb-3">
							<label for="sexe" class="form-label">Sex</label>
							<input type="text" class="form-control" id="sexe" name="sexe"
								   th:value="${employee.sexe}" required>
						</div>
						<div class="mb-3">
							<label for="phones" class="form-label">Phone</label>
							<input type="text" class="form-control" id="phones" th:field="*{phones}" required
								   pattern="0(32|33|34|38)[0-9]{7}">
							<div th:if="${#fields.hasErrors('phones')}" class="alert alert-danger">
								<p th:errors="*{phones}">Invalid phone number.</p>
							</div>
						</div>
						<div class="mb-3">
							<label for="emailPerso" class="form-label">Personal Email</label>
							<input type="email" class="form-control" id="emailPerso" name="emailPerso"
								   th:value="${employee.emailPerso}" required>
						</div>
						<div class="mb-3">
							<label for="emailPro" class="form-label">Professional Email</label>
							<input type="email" class="form-control" id="emailPro" name="emailPro"
								   th:value="${employee.emailPro}" required>
						</div>
						<div class="mb-3">
							<button type="submit" class="btn btn-primary">Save</button>
							<a href="/" class="btn btn-secondary">Cancel</a>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Bootstrap JS -->
<script src="../asset/bootstrap.js"></script>
<script>
    // Function to preview selected image
    function previewImage(event) {
        const imagePreview = document.getElementById("imagePreview");
        imagePreview.src = URL.createObjectURL(event.target.files[0]);
    }
</script>
</body>
</html>
